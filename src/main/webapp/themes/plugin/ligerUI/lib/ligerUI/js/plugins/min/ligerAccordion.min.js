(function(e){e.fn.ligerAccordion=function(t){return e.ligerui.run.call(this,"ligerAccordion",arguments)},e.fn.ligerGetAccordionManager=function(){return e.ligerui.get(this)},e.ligerDefaults.Accordion={height:null,speed:"normal",changeHeightOnResize:!1,heightDiff:0},e.ligerMethos.Accordion={},e.ligerui.controls.Accordion=function(t,n){e.ligerui.controls.Accordion.base.constructor.call(this,t,n)},e.ligerui.controls.Accordion.ligerExtend(e.ligerui.core.UIComponent,{__getType:function(){return"Accordion"},__idPrev:function(){return"Accordion"},_extendMethods:function(){return e.ligerMethos.Accordion},_render:function(){var t=this,n=this.options;t.accordion=e(t.element),t.accordion.hasClass("l-accordion-panel")||t.accordion.addClass("l-accordion-panel");var r=0;e("> div[lselected=true]",t.accordion).length>0&&(r=e("> div",t.accordion).index(e("> div[lselected=true]",t.accordion))),e("> div",t.accordion).each(function(t,n){var i=e('<div class="l-accordion-header"><div class="l-accordion-toggle"></div><div class="l-accordion-header-inner"></div></div>');t==r&&e(".l-accordion-toggle",i).addClass("l-accordion-toggle-open"),e(n).attr("title")&&(e(".l-accordion-header-inner",i).html(e(n).attr("title")),e(n).attr("title","")),e(n).before(i),e(n).hasClass("l-accordion-content")||e(n).addClass("l-accordion-content")}),e(".l-accordion-toggle",t.accordion).each(function(){!e(this).hasClass("l-accordion-toggle-open")&&!e(this).hasClass("l-accordion-toggle-close")&&e(this).addClass("l-accordion-toggle-close"),e(this).hasClass("l-accordion-toggle-close")&&e(this).parent().next(".l-accordion-content:visible").hide()}),e(".l-accordion-header",t.accordion).hover(function(){e(this).addClass("l-accordion-header-over")},function(){e(this).removeClass("l-accordion-header-over")}),e(".l-accordion-toggle",t.accordion).hover(function(){e(this).hasClass("l-accordion-toggle-open")?e(this).addClass("l-accordion-toggle-open-over"):e(this).hasClass("l-accordion-toggle-close")&&e(this).addClass("l-accordion-toggle-close-over")},function(){e(this).hasClass("l-accordion-toggle-open")?e(this).removeClass("l-accordion-toggle-open-over"):e(this).hasClass("l-accordion-toggle-close")&&e(this).removeClass("l-accordion-toggle-close-over")}),e(">.l-accordion-header",t.accordion).click(function(){var t=e(".l-accordion-toggle:first",this);t.hasClass("l-accordion-toggle-close")?(t.removeClass("l-accordion-toggle-close").removeClass("l-accordion-toggle-close-over l-accordion-toggle-open-over"),t.addClass("l-accordion-toggle-open"),e(this).next(".l-accordion-content").show(n.speed).siblings(".l-accordion-content:visible").hide(n.speed),e(this).siblings(".l-accordion-header").find(".l-accordion-toggle").removeClass("l-accordion-toggle-open").addClass("l-accordion-toggle-close")):(t.removeClass("l-accordion-toggle-open").removeClass("l-accordion-toggle-close-over l-accordion-toggle-open-over").addClass("l-accordion-toggle-close"),e(this).next(".l-accordion-content").hide(n.speed))}),t.headerHoldHeight=0,e("> .l-accordion-header",t.accordion).each(function(){t.headerHoldHeight+=e(this).height()}),n.height&&typeof n.height=="string"&&n.height.indexOf("%")>0?(t.onResize(),n.changeHeightOnResize&&e(window).resize(function(){t.onResize()})):n.height?(t.height=n.heightDiff+n.height,t.accordion.height(t.height),t.setHeight(n.height)):t.header=t.accordion.height(),t.set(n)},onResize:function(){var t=this,n=this.options;if(!n.height||typeof n.height!="string"||n.height.indexOf("%")==-1)return!1;if(t.accordion.parent()[0].tagName.toLowerCase()=="body"){var r=e(window).height();r-=parseInt(t.layout.parent().css("paddingTop")),r-=parseInt(t.layout.parent().css("paddingBottom")),t.height=n.heightDiff+r*parseFloat(t.height)*.01}else t.height=n.heightDiff+t.accordion.parent().height()*parseFloat(n.height)*.01;t.accordion.height(t.height),t.setContentHeight(t.height-t.headerHoldHeight)},setHeight:function(t){var n=this,r=this.options;n.accordion.height(t),t-=n.headerHoldHeight,e("> .l-accordion-content",n.accordion).height(t)}})})(jQuery)